//@source http://code.eligrey.com/citedrag/0.1/citedrag.js
(function(){var j=document,d=location,k="text/",i=k+"plain",b=k+"html",c=k+"uri-list",h=k+"x-moz-url",a=k+"x-original-html",g=k+"x-original-text",f=false,e={dragHandler:function(l){if(typeof l.dataTransfer!="undefined"){var o=l.dataTransfer,q=(document.title||d.hostname);if(o.getData(a)){o.setData(b,o.getData(a))}else{o.setData(a,o.getData(b))}if(o.getData(g)){o.setData(i,o.getData(g))}else{o.setData(g,o.getData(i))}var s=o.getData(i),p=o.getData(b),n=o.getData(c),m=o.getData(h);if(n){if(m){var r="\n# via "+q+" ( "+d+" )",n=m.replace(/\n#.*/g,"").split(/\n/).join(r)+r;o.setData(h,n)}if(p){o.setData(b,p+' via <a href="'+d+'" title="'+d.hostname+'">'+q+"</a>")}if(s){o.setData(i,s+" via "+q+" ( "+d+" )")}}else{if(s){if(p){o.setData(b,'<blockquote cite="'+d+'">'+p+'</blockquote> \u2015 <a title="'+d.host+'" href="'+d+'">'+q+"</a>")}if(s){o.setData(i,"\u201C"+s+"\u201D\n	\u2015 "+q+" ( "+d+" )")}}}}},enable:function(){if(!f){if(j.addEventListener){j.addEventListener("dragstart",e.dragHandler,false)}else{if(j.attachEvent){j.attachEvent("ondragstart",e.dragHandler)}}f=!f}},disable:function(){if(f){if(j.removeEventListener){j.removeEventListener("dragstart",e.dragHandler,false)}else{if(j.detachEvent){j.detachEvent("ondragstart",e.dragHandler)}}f=!f}}};e.enable();this.CiteDrag=e}).call(this);
